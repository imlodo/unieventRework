<div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active" style="max-height: 700px;">
      <img *ngIf="eventData && eventData.t_image_link" src="{{eventData.t_image_link}}" class="d-block w-100"
        alt="..." />
      <div _ngcontent-ng-c3127344369="" class="photo-gradient"></div>
      <div
        class="carousel-caption d-grid align-items-center align-content-center justify-content-center p-lg-4 p-3 m-3">
        <p *ngIf="eventData && eventData.t_caption" class="h1 h1-mobile slide-caption-p-padding-margin pb-1">
          {{eventData.t_caption | uppercase}}</p>
        <p *ngIf="eventData && minStartDate && maxStartDate" class="h6-mobile slide-caption-p-padding-margin pb-1">Dal
          {{minStartDate.toLocaleDateString('it-it', { year:"numeric", month:"numeric",day:"numeric"})}} al
          {{maxStartDate.toLocaleDateString('it-it', { year:"numeric", month:"numeric",day:"numeric"})}} |
          {{groupEvents.length}} Eventi</p>
        <p *ngIf="eventData && minPrice" class="h6-mobile slide-caption-p-padding-margin pb-1">Biglietti da â‚¬
          {{minPrice}}</p>
        <div *ngIf="eventData && averangeStars" class="d-flex align-items-end pb-1 slide-caption-p-padding-margin"
          style="margin: 0 -3px 12px;">
          <mat-icon *ngFor="let ratingId of ratingArr; index as i" class="orange-icon">
            {{showIcon(i)}}
          </mat-icon>
          <div>({{countReviews}})</div>
        </div>
        <div class="d-flex gap-2">
          <button (click)="openReviewsPanel()" class="btn rounded-0"
            style="background-color: rgb(75, 75, 75) !important; color: white; width: 170px;">Recensioni</button>
          <button (click)="buy()" class="btn rounded-0"
            style="background-color: rgb(255 87 37) !important; color: white; width: 170px;">Acquista</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isShowReviewsPanel" class="modal-overlay" style="z-index:10;">
  <div class="modal-content container p-3 m-3" style="max-width: 600px;">
    <div class="d-flex justify-content-between border-bottom mb-3">
      <h2 class="mb-2">Recensioni - {{eventData.t_caption | uppercase}}</h2>
      <span style="font-size:38px;" class="pointer" (click)="closeReviewsPanel()" aria-hidden="true">&times;</span>
    </div>
    <div class="reviews-body d-flex flex-column overflow-auto">
      <ng-container *ngFor="let el of groupEvents">
        <div class="card p-3 shadow m-3" *ngFor="let review of el.t_reviews">
          
          <div class="d-flex justify-content-between">
            <div class="d-flex gap-2 align-items-center mb-3">
              <span shape="circle" class="user-profile-photo-container"><img [attr.src]="review.t_user.t_profile_photo"
                  class="user-profile-photo"></span>
              <span>{{review.t_user.t_alias_generated}}</span>
              <div class="d-flex align-items-center">
                <mat-icon *ngFor="let k of getArrayFromRatingNumber(review.n_stars)" class="orange-icon mb-1">
                  {{showStarViewIcon(k)}}
                </mat-icon>
                <label class="mx-2">({{review.n_stars}})</label>
              </div>
              <label>{{review?.review_date}}</label>

            </div>
          </div>
          <div class="d-flex flex-column">
            <h2>{{review.t_title}}</h2>
            <h4>{{review.t_body}}</h4>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>