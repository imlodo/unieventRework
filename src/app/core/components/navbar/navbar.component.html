<nav style="position: fixed; left:0; right:0; top: 0; z-index: 3; border-bottom:1px solid rgb(56, 56, 56)"
    [ngClass]="darkMode ? 'bg-dark-mode navbar-dark' : 'bg-white' " class="navbar navbar-expand-lg">
    <div *ngIf="!isMobileSearch" class="container-fluid">
        <button (click)="showMobileLeftPanel()" class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="/">
            <div class="mt-2">
                <img [attr.src]="darkMode ? '/assets/img/logo_unievent_white.svg' : '/assets/img/logo_unievent_black.svg' "
                    width="150px" />
            </div>
        </a>
        <div class="d-lg-flex mx-auto w-100 justify-content-center d-none">
            <ng-container *ngTemplateOutlet="search"></ng-container>
        </div>
        <div class="d-flex justify-content-end align-items-center">
            <ng-container *ngIf="online" class="on-nav">
                <unievent-navbar-search class="d-lg-none"></unievent-navbar-search>
                <unievent-navbar-create></unievent-navbar-create>
                <unievent-navbar-notification [darkMode]="darkMode"
                    (closeOtherNavbarPanelEvent)="closeOtherNavbarPanel('notification')"></unievent-navbar-notification>
                <unievent-navbar-chat
                    (closeOtherNavbarPanelEvent)="closeOtherNavbarPanel('message')"></unievent-navbar-chat>
                <unievent-navbar-profile [darkMode]="darkMode" (updateThemeEvent)="updateTheme()"
                    (closeOtherNavbarPanelEvent)="closeOtherNavbarPanel('profile')"
                    (logoutEvent)="logout()"></unievent-navbar-profile>
            </ng-container>
            <ng-container *ngIf="!online" class="off-nav">
                <div class="navbar-nav">
                    <div class="nav-item text-nowrap">
                        <a class="nav-link px-3 link-icon-text" href="/login"><i
                                class="gg-log-in"></i><span>Accedi</span></a>
                    </div>
                </div>
                <div class="navbar-nav">
                    <div class="nav-item text-nowrap">
                        <a class="nav-link px-3" href="/signup">Registrati</a>
                    </div>
                </div>
            </ng-container>
        </div>

        <!--<div class="navbar-nav border-search-left mx-3">
                <div class="nav-item text-nowrap nav-link" data-bs-toggle="collapse"
                    [attr.href]="isShowed ?  '' : '#showSearch' " role="button" aria-expanded="false" aria-controls="showSearch"
                    (click)="showCollapse()">
                    <i #tooltip="matTooltip" matTooltip="Cerca" matTooltipPosition="left" matTooltipHideDelay="100"
                        class="gg-search"></i>
                </div>
            </div> -->
    </div>
    <div *ngIf="isMobileSearch" class="container-fluid">Ricerca mobile</div>
</nav>

<ng-template #search>
    <input class="w-auto form-control me-2" type="search" placeholder="Cerca" aria-label="Search">
    <button class="btn btn-outline-success" type="submit">Cerca</button>
</ng-template>
<ng-template #searchMobile></ng-template>